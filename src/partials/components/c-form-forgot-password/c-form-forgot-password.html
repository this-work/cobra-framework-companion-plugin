<component :is="tag" :class="blockClasses">

    <c-message :error="!valid" :message="message" />

    <form accept-charset="UTF-8" v-if="(!message && valid) || (message && !valid)" @submit.prevent="requestPasswordReset">

        <c-input-text :class="element('input')" name="loginName" v-model="email" @change="email = $event.target.value" :valid="valid" appearance="boxed" ref="loginName" type="text" :label="$t('c-form-forgot-password--username')" >
            <template #prefix><c-icon name="alternate-email" /></template>
        </c-input-text>

        <div :class="element('submit')">
            <c-button type="submit" :loading="loading" :spinner="true" :label="$t('c-form-forgot-password--label')" />
        </div>

    </form>

</component>
